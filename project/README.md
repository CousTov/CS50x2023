# Count 'Em
#### Video Demo: https://www.youtube.com/watch?v=FS3GrXXSbb8
#### Description:
Count 'Em is an application that helps you count cards, on your phone! I came up with this card counting app idea when I was watching the 2008 movie **21**. Inspired by real events and people, this movie is about six MIT students who became trained to be experts in card counting in Black Jack and subsequently took Vegas casinos for millions in winnings. I will not claim that you can win millions from casinos with this application, but it can be a good starting ground for people trying to learn card counting.

I basically created a Flutter application with descriptive comments and tests, deleted everything from main.dart, and began writing my application. In the process of making this application, the code became too jumbled, so I created a separate file called home_page.dart, where most of the application functionality comes from. To make my life easier, I decided to use a package called playing_cards made by [@bedardjo](https://github.com/bedardjo/playing_cards) on GitHub that I used to generate a deck of cards. The reason I used a package is simply because I did not want to reinvent the wheel.

In main.dart, the main function runs the stateless `MyApp()`. Within `MyApp()` are two stateful widgets, the `RootPage()` and the `HomePage()`. I could have contained everything inside of the `RootPage()` stateful widget, but as mentioned above, the code became too clunky for my liking. Besides, I believe it is smart not to cram everything into a single file. Plus, it looks cleaner. So, I instead create the `HomePage()`, another stateful widget nested inside of `RootPage()`. It utilizes a `GestureDetector()` to detect user inputs. A single tap goes to the next card in the list of 52 cards, and a long press brings out an alert box that reminds the user of the running count. There is also a floating button on the lower-right corner that resets and shuffles the deck of cards, so the user does not see the same pattern of cards multiple times. If the user runs out of cards—that is, cycles through all 52 cards—an alert box alerts the user that he or she has run out of cards. In the background, everything resets, creating a brand new shuffled deck of cards that the user can cycle through again. Instead of letting the user choose to reset after he or she cycles through all the cards with either a gesture or a button, I chose to reset the deck automatically. This was purely preferential, as taking user input for resetting seemed unnecessary.

There was also a point where the early version of my application used three buttons. One for cycling through the card, another to show the running count, and the last one to shuffle. I decided that buttons were not the way to go, as I was developing for Android. So instead, I went with gesture controls for the former two features. Shuffling is still done with a button.

Delving deeper into `GestureDetector()`, I used two commonly used gestures: `onTap: ` and `onLongPress: `. Both use `setState()` to update the widgets. The former first checks if the user has reached the end of the deck, and if not, increases the current index so the next card is rendered. Then, it calculates the running count, not including the currently rendered card. The else statement handles the situation where the user cycles through all 52 cards. The latter calls a future builder method `showCount()` which alerts the user of the running count. Also, `PlayingCardView()` is for rendering the card.